<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>NanXi&#39;s Blog</title>
  
  <subtitle>生活明朗，万物可爱</subtitle>
  <link href="https://www.nxi.asia/atom.xml" rel="self"/>
  
  <link href="https://www.nxi.asia/"/>
  <updated>2023-03-13T10:39:30.976Z</updated>
  <id>https://www.nxi.asia/</id>
  
  <author>
    <name>南溪溪</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>搭建API</title>
    <link href="https://www.nxi.asia/posts/316bb4cd.html"/>
    <id>https://www.nxi.asia/posts/316bb4cd.html</id>
    <published>2023-03-13T12:00:00.000Z</published>
    <updated>2023-03-13T10:39:30.976Z</updated>
    
    <content type="html"><![CDATA[<h1 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h1><p>随机图片API，主要原理其实很简单，就两步：</p><p>1.用一个文本文档存放图片的链接</p><p>2.当用户请求API时，php就去读取txt文件，然后生成随机数来随机选取一个图片链接</p><h1 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h1><h2 id="1-创建index-php，放入以下代码"><a href="#1-创建index-php，放入以下代码" class="headerlink" title="1.创建index.php，放入以下代码"></a>1.创建<code>index.php</code>，放入以下代码</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="variable">$img</span>=<span class="title function_ invoke__">file</span>(<span class="string">&#x27;img.txt&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$url</span>=<span class="title function_ invoke__">array_rand</span>(<span class="variable">$img</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">&quot;Location:&quot;</span>.<span class="variable">$img</span>[<span class="variable">$url</span>]); <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-创建文件img-txt用于存放图片地址"><a href="#2-创建文件img-txt用于存放图片地址" class="headerlink" title="2.创建文件img.txt用于存放图片地址"></a>2.创建文件<code>img.txt</code>用于存放图片地址</h2><p>将图片上传到图床，这里给大家推荐一个图床<a href="https://imgse.com/">https://imgse.com/</a></p><p>上传以后复制图片的url，然后将图片url粘贴到img.txt里面即可（注意一行一个url）</p><p>将<code>img.txt</code>和<code>index.php</code>放在同一个网站目录下，通过访问 <a href="https://域名/index.php">https://域名/index.php</a> 即可</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;基本原理&quot;&gt;&lt;a href=&quot;#基本原理&quot; class=&quot;headerlink&quot; title=&quot;基本原理&quot;&gt;&lt;/a&gt;基本原理&lt;/h1&gt;&lt;p&gt;随机图片API，主要原理其实很简单，就两步：&lt;/p&gt;
&lt;p&gt;1.用一个文本文档存放图片的链接&lt;/p&gt;
&lt;p&gt;2.当用户请求A</summary>
      
    
    
    
    
  </entry>
  
</feed>
